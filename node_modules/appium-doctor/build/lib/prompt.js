"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.clear = clear;
exports.configure = configure;
exports.fixIt = fixIt;

require("source-map-support/register");

var _utils = require("./utils");

let persistentResponse;
const fixItQuestion = {
  type: 'list',
  name: 'confirmation',
  message: 'Fix it:',
  choices: ['yes', 'no', 'always', 'never'],

  filter(val) {
    return val.toLowerCase();
  }

};

function configure(opts) {
  if (opts.yes) {
    persistentResponse = 'yes';
  }

  if (opts.no) {
    persistentResponse = 'no';
  }
}

function clear() {
  persistentResponse = undefined;
}

async function fixIt() {
  if (persistentResponse) {
    return persistentResponse;
  }

  let resp = await _utils.inquirer.prompt(fixItQuestion);
  persistentResponse = resp.confirmation === 'always' ? 'yes' : persistentResponse;
  persistentResponse = resp.confirmation === 'never' ? 'no' : persistentResponse;
  return persistentResponse || resp.confirmation;
}require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGliL3Byb21wdC5qcyIsIm5hbWVzIjpbInBlcnNpc3RlbnRSZXNwb25zZSIsImZpeEl0UXVlc3Rpb24iLCJ0eXBlIiwibmFtZSIsIm1lc3NhZ2UiLCJjaG9pY2VzIiwiZmlsdGVyIiwidmFsIiwidG9Mb3dlckNhc2UiLCJjb25maWd1cmUiLCJvcHRzIiwieWVzIiwibm8iLCJjbGVhciIsInVuZGVmaW5lZCIsImZpeEl0IiwicmVzcCIsImlucXVpcmVyIiwicHJvbXB0IiwiY29uZmlybWF0aW9uIl0sInNvdXJjZVJvb3QiOiIuLi8uLiIsInNvdXJjZXMiOlsibGliL3Byb21wdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbnF1aXJlciB9IGZyb20gJy4vdXRpbHMnO1xuXG5sZXQgcGVyc2lzdGVudFJlc3BvbnNlO1xuXG5jb25zdCBmaXhJdFF1ZXN0aW9uID0ge1xuICB0eXBlOiAnbGlzdCcsXG4gIG5hbWU6ICdjb25maXJtYXRpb24nLFxuICBtZXNzYWdlOiAnRml4IGl0OicsXG4gIGNob2ljZXM6IFsneWVzJywgJ25vJywgJ2Fsd2F5cycsICduZXZlciddLFxuICBmaWx0ZXIgKHZhbCkge1xuICAgIHJldHVybiB2YWwudG9Mb3dlckNhc2UoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gY29uZmlndXJlIChvcHRzKSB7XG4gIGlmIChvcHRzLnllcykge1xuICAgIHBlcnNpc3RlbnRSZXNwb25zZSA9ICd5ZXMnO1xuICB9XG4gIGlmIChvcHRzLm5vKSB7XG4gICAgcGVyc2lzdGVudFJlc3BvbnNlID0gJ25vJztcbiAgfVxufVxuXG5mdW5jdGlvbiBjbGVhciAoKSB7XG4gIHBlcnNpc3RlbnRSZXNwb25zZSA9IHVuZGVmaW5lZDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZml4SXQgKCkge1xuICBpZiAocGVyc2lzdGVudFJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIHBlcnNpc3RlbnRSZXNwb25zZTtcbiAgfVxuICBsZXQgcmVzcCA9IGF3YWl0IGlucXVpcmVyLnByb21wdChmaXhJdFF1ZXN0aW9uKTtcbiAgcGVyc2lzdGVudFJlc3BvbnNlID0gcmVzcC5jb25maXJtYXRpb24gPT09ICdhbHdheXMnID8gJ3llcycgOiBwZXJzaXN0ZW50UmVzcG9uc2U7XG4gIHBlcnNpc3RlbnRSZXNwb25zZSA9IHJlc3AuY29uZmlybWF0aW9uID09PSAnbmV2ZXInID8gJ25vJyA6IHBlcnNpc3RlbnRSZXNwb25zZTtcbiAgcmV0dXJuIHBlcnNpc3RlbnRSZXNwb25zZSB8fCByZXNwLmNvbmZpcm1hdGlvbjtcbn1cblxuZXhwb3J0IHsgY29uZmlndXJlLCBmaXhJdCwgY2xlYXIgfTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7QUFFQSxJQUFJQSxrQkFBSjtBQUVBLE1BQU1DLGFBQWEsR0FBRztFQUNwQkMsSUFBSSxFQUFFLE1BRGM7RUFFcEJDLElBQUksRUFBRSxjQUZjO0VBR3BCQyxPQUFPLEVBQUUsU0FIVztFQUlwQkMsT0FBTyxFQUFFLENBQUMsS0FBRCxFQUFRLElBQVIsRUFBYyxRQUFkLEVBQXdCLE9BQXhCLENBSlc7O0VBS3BCQyxNQUFNLENBQUVDLEdBQUYsRUFBTztJQUNYLE9BQU9BLEdBQUcsQ0FBQ0MsV0FBSixFQUFQO0VBQ0Q7O0FBUG1CLENBQXRCOztBQVVBLFNBQVNDLFNBQVQsQ0FBb0JDLElBQXBCLEVBQTBCO0VBQ3hCLElBQUlBLElBQUksQ0FBQ0MsR0FBVCxFQUFjO0lBQ1pYLGtCQUFrQixHQUFHLEtBQXJCO0VBQ0Q7O0VBQ0QsSUFBSVUsSUFBSSxDQUFDRSxFQUFULEVBQWE7SUFDWFosa0JBQWtCLEdBQUcsSUFBckI7RUFDRDtBQUNGOztBQUVELFNBQVNhLEtBQVQsR0FBa0I7RUFDaEJiLGtCQUFrQixHQUFHYyxTQUFyQjtBQUNEOztBQUVELGVBQWVDLEtBQWYsR0FBd0I7RUFDdEIsSUFBSWYsa0JBQUosRUFBd0I7SUFDdEIsT0FBT0Esa0JBQVA7RUFDRDs7RUFDRCxJQUFJZ0IsSUFBSSxHQUFHLE1BQU1DLGVBQUEsQ0FBU0MsTUFBVCxDQUFnQmpCLGFBQWhCLENBQWpCO0VBQ0FELGtCQUFrQixHQUFHZ0IsSUFBSSxDQUFDRyxZQUFMLEtBQXNCLFFBQXRCLEdBQWlDLEtBQWpDLEdBQXlDbkIsa0JBQTlEO0VBQ0FBLGtCQUFrQixHQUFHZ0IsSUFBSSxDQUFDRyxZQUFMLEtBQXNCLE9BQXRCLEdBQWdDLElBQWhDLEdBQXVDbkIsa0JBQTVEO0VBQ0EsT0FBT0Esa0JBQWtCLElBQUlnQixJQUFJLENBQUNHLFlBQWxDO0FBQ0QifQ==
